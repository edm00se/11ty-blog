{%- css %}.postlist { counter-reset: start-from {{ (postslistCounter or postslist.length) + 1 }} }{% endcss %}
<ol reversed class="postlist">
{% for post in postslist | reverse %}
	<li class="postlist-item{% if post.url == url %} postlist-item-active{% endif %}">
		{%- set modifiedCoverImagePath %}{{ post.data.cover_image | failOverCoverImage | modifyCoverImage }}/{% endset %}
		<a href="{{ post.url }}" class="postlist-link cover-link">
			<div class="cover-wrap">
				TODO: make post tile more "card"-like
				<span class="cover-img">{% image modifiedCoverImagePath, "cover image from post" %}</span>
				<h2>
					{% if post.data.title %}
						{{ post.data.title }}
					{% else %}
						<code>{{ post.url }}</code>
					{% endif %}
					<time class="postlist-date" datetime="{{ post.date | htmlDateString }}">{{ post.date | readableDate  }}</time>
				</h2>
				<span>
					{{ post.data.description }}<br/>
					TODO: read time<br/>
					<ul>
						{%- for tag in post.data.tags | filterTagList %}
						{%- set tagUrl %}/tag/{{ tag | slugify }}/{% endset %}
						<li><a href="{{ tagUrl }}" class="post-tag">{{ tag }}</a>{%- if not loop.last %}, {% endif %}</li>
						{%- endfor %}
					</ul>
				</span>
			</div>
		</a>
	</li>
{% endfor %}
</ol>
